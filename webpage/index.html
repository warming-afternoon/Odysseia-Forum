<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	<title>Odysseia 论坛搜索</title>
	<meta name="description" content="Odysseia 论坛搜索为社区成员提供高效的帖子检索、标签筛选与关注更新，快速定位想要的讨论内容。">
	<meta property="og:type" content="website">
	<meta property="og:title" content="Odysseia 论坛搜索">
	<meta property="og:description" content="Odysseia 论坛搜索为社区成员提供高效的作品检索、标签筛选与关注更新。">
	<meta property="og:image" content="https://cdn.discordapp.com/avatars/1389231153940136088/b63807ba45fc142152aeb0dc5649d6a5.webp">
	<meta property="og:site_name" content="Odysseia Forum">
	<meta property="og:url" content="http://localhost:3000">
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Odysseia 论坛搜索">
	<meta name="twitter:description" content="Odysseia 论坛搜索为社区成员提供高效的作品检索、标签筛选与关注更新。">
	<meta name="twitter:image" content="https://cdn.discordapp.com/avatars/1389231153940136088/b63807ba45fc142152aeb0dc5649d6a5.webp">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="style.css">
	<link rel="icon" href="https://cdn.discordapp.com/avatars/1389231153940136088/b63807ba45fc142152aeb0dc5649d6a5.webp">
	<link rel="apple-touch-icon" href="https://cdn.discordapp.com/avatars/1389231153940136088/b63807ba45fc142152aeb0dc5649d6a5.webp">
</head>
<body>
	<!-- 移动端抽屉菜单按钮 -->
	<button id="drawerToggle" class="drawer-toggle" aria-label="打开菜单">☰</button>

	<!-- 侧边栏 -->
	<aside id="sidebar" class="sidebar">
		<!-- 用户信息区 -->
		<div class="user-info">
			<img id="userAvatar" src="" alt="用户头像" class="user-avatar">
			<div class="user-name" id="userName">加载中...</div>
		</div>

		<!-- 导航按钮 -->
		<nav class="sidebar-nav">
			<button class="nav-btn active" data-panel="channels">
				<span class="nav-icon">📋</span>
				<span class="nav-label">频道列表</span>
			</button>
			<button class="nav-btn" data-panel="follows">
				<span class="nav-icon">📌</span>
				<span class="nav-label">关注列表</span>
				<span class="badge-dot hidden" id="followsBadge"></span>
			</button>
			<button class="nav-btn" data-panel="preferences">
				<span class="nav-icon">⚙️</span>
				<span class="nav-label">偏好设置</span>
			</button>
			<button class="nav-btn" data-panel="logout">
				<span class="nav-icon">🚪</span>
				<span class="nav-label">退出登录</span>
			</button>
		</nav>

		<!-- 面板区域 -->
		<div class="sidebar-panels">
			<!-- 频道列表面板 -->
			<div id="panel-channels" class="panel active">
				<h3 class="panel-title">选择频道</h3>
				<div class="channel-list" id="channelList">
					<!-- 动态生成频道列表 -->
				</div>
			</div>

			<!-- 关注列表已移至主内容区，这里保留空面板 -->
			<div id="panel-follows" class="panel">
				<h3 class="panel-title">我的关注</h3>
				<div class="placeholder-content">
					<p>📌 点击查看关注列表</p>
					<p>关注的帖子将在主界面展示</p>
				</div>
			</div>

			<!-- 偏好设置面板 -->
			<div id="panel-preferences" class="panel">
				<h3 class="panel-title">偏好设置</h3>
				<div class="placeholder-content">
					<p>🚧 功能开发中</p>
					<p>此功能将在后续版本中实现</p>
				</div>
			</div>
		</div>
	</aside>

	<!-- 主内容区 -->
	<main class="main-content">
		<header class="site-header">
			<div class="container header-inner">
				<h1 class="brand">Odysseia Forum</h1>
				<div class="searchbar">
					<input id="keywordInput" type="search" placeholder="搜索标题、作者或内容..." autocomplete="off" title="支持高级语法：author:作者名  &quot;精确匹配&quot;  -排除词">
					<button id="searchBtn" class="btn primary" aria-label="开始搜索">搜索</button>
				</div>
			</div>
			<div class="container search-tips">
				<small>💡 高级搜索：<code>author:作者</code> 搜索作者 · <code>"精确短语"</code> 精确匹配 · <code>-排除</code> 排除关键词</small>
			</div>
		</header>

		<div class="container">
			<!-- Banner 轮播区 -->
			<section class="banner-carousel" id="bannerCarousel">
				<div class="banner-placeholder">
					<p>🎉 欢迎使用 Odysseia 论坛搜索</p>
				</div>
			</section>

			<!-- 筛选器区域 - 精简版 -->
			<section class="filters" id="filters">
				<div class="filter-row">
					<div class="filter-item">
						<label for="timeFrom">发帖不早于</label>
						<input id="timeFrom" type="date">
					</div>
					<div class="filter-item">
						<label for="timeTo">发帖不晚于</label>
						<input id="timeTo" type="date">
					</div>
					<div class="filter-item">
						<label for="sortSelect">排序</label>
						<select id="sortSelect">
							<option value="relevance">相关度</option>
							<option value="last_active_desc">最近活跃 ↓</option>
							<option value="created_desc">最新发布 ↓</option>
							<option value="reply_desc">回复数 ↓</option>
							<option value="reaction_desc">反应数 ↓</option>
						</select>
					</div>
					<div class="filter-item">
						<label for="tagLogic">标签逻辑</label>
						<select id="tagLogic">
							<option value="and">全部包含 (AND)</option>
							<option value="or">任一即可 (OR)</option>
						</select>
					</div>
				</div>
			</section>

			<!-- 标签胶囊区域 -->
			<section class="tag-pills-section hidden" id="tagPillsSection">
				<div class="tag-pills-header">
					<div class="tag-mode-toggle">
						<span class="tag-mode-label">标签点击模式：</span>
						<label class="toggle-switch">
							<input type="checkbox" id="tagModeSwitch">
							<span class="toggle-slider"></span>
							<span class="toggle-label-left">🟢 包含</span>
							<span class="toggle-label-right">🔴 排除</span>
						</label>
					</div>
				</div>
				<div class="tag-pills" id="tagPills">
					<!-- 动态生成标签胶囊 -->
				</div>
			</section>

			<!-- 统计信息 -->
			<section class="stats" id="stats">
				<div id="resultCount">共 0 条结果</div>
				<div class="view-controls">
					<label for="perPage">每页</label>
					<select id="perPage">
						<option value="12">12</option>
						<option value="24" selected>24</option>
						<option value="48">48</option>
					</select>
					<label for="openMode">跳转方式</label>
					<select id="openMode">
						<option value="app" selected>App</option>
						<option value="web">网页</option>
					</select>
				</div>
			</section>

			<!-- 搜索结果 -->
			<section id="results" class="grid"></section>

			<!-- 分页 -->
			<nav id="pagination" class="pagination" aria-label="分页"></nav>
		</div>
	</main>

	<script src="config.js"></script>
	<script src="script.js" defer></script>
</body>
</html>
